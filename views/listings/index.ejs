<!-- views/listings/index.ejs --> 
<%layout('layouts/boilerplate')%>
<style>
  #icons{
    display: flex;
    justify-content: space-around;
    margin-top: 20px;
    margin-bottom: 20px;
  }
  .icon{
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity:0.7;
  }
  .icon:hover{
    opacity: 1;
    cursor: pointer;
  }
  .icon .p{
    font-size: 0.8rem;
  }
.tax-toggle{
  border: 1px solid #000;
  border-radius: 15px;
  padding: 5px;
  padding-right: 10px;
  height: 40px;
}
.tax-info{
  display: none;
}
 /* new */
 .card-listing {
    margin: 15px 0; /* Add some spacing between cards */
  }

  .row {
    display: flex;
    flex-wrap: wrap; /* Ensure items wrap on smaller screens */
    justify-content: center; /* Center-align items on smaller screens */
    gap: 15px; /* Add gap between cards */
  }

  @media (max-width: 576px) {
    .row {
      justify-content: center;
    }

    .card-listing {
      width: 100%; /* Ensure cards take full width on small screens */
    }
  }


</style>
<body>
    <!-- <div id="icons">
      <div class="icon">
        <i class="fa-solid fa-fire"></i>
        <div class="p">Trending</div>
      </div>
      <div class="icon">
        <i class="fa-solid fa-umbrella-beach"></i>
        <div class="p">Beach</div>
      </div>
      <div class="icon">
        <i class="fa-brands fa-fort-awesome"></i>
        <div class="p">Haveli</div>
      </div>
      <div class="icon">
        <i class="fa-solid fa-ship"></i>
        <div class="p">Cruise</div>
      </div>
      <div class="icon">
        <i class="fa-brands fa-pagelines"></i>
        <div class="p">Nature</div>
      </div>
      <div class="icon">
        <i class="fa-solid fa-mountain-sun"></i>
        <div class="p">Mountains</div>
      </div>
      <div class="icon">
        <i class="fa-regular fa-snowflake"></i>
        <div class="p">Frosty</div>
      </div>
   <div class="tax-toggle">
<div class="form-check form-switch form-check-reverse">
  <input class="form-check-input" type="checkbox" id="flexSwitchCheckReverse">
  <label class="form-check-label" for="flexSwitchCheckReverse">&nbsp;&nbsp;&nbsp;Display total before taxes</label>
</div>  
</div>
    </div> -->
    <div class="row row-cols-lg-4 row-cols-md-2 row-cols-sm-1 row-cols-1">
    <% for(list of listings) {%>
        <div class="card card-listing col" style="width: 20rem;">
          <a href="/listings/<%=list._id%>" class="listing_link">
            <img src="<%=list.image.url%>" class="card-img-top" alt="listing_image">
            <div class="card-img-overlay">
              </div>
            <div class="card-body">
              <p class="card-text">
                <b><%=list.title%></b>
                <br>
                &#8377; <%=list.price.toLocaleString('en-IN')%> / Night <i class="tax-info">&nbsp;&nbsp; +18%GST</i>
              </p>
            </div>
          </a>
          </div>
     
        <%}%>
    </div>

 </body>
 <script>
let taxToggle = document.getElementsByClassName('tax-toggle')[0];
let taxInfo = document.getElementsByClassName('tax-info');

taxToggle.addEventListener('click', () => {
  for (let i = 0; i < taxInfo.length; i++) {
    if (taxInfo[i].style.display != 'inline') {
      taxInfo[i].style.display = 'inline';
    } else {
      taxInfo[i].style.display = 'none';
    }
  }
});
 </script>
